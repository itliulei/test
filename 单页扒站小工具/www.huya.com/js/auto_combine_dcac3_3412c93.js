define("Event",function(){function t(){return{fired:!1,data:[],callbacks:new $.Callbacks}}function n(){function n(n,r,a){if(!i(n)||!e(r))return this;var c=u[n]||(u[n]=new t);return c.callbacks.add(r),a&&c.fired&&r.apply(this,c.data),this}function r(n){if(!i(n))return this;var e=u[n]||(u[n]=new t);return e.fired=!0,e.data=a.call(arguments,1),e.callbacks.fireWith(this,e.data),"ALL"!==n&&r.apply(this,["ALL"].concat(a.call(arguments))),this}function c(t,n){var r=arguments.length;if(0===r)for(var a in u)u.hasOwnProperty(a)&&u[a].callbacks.empty();else if(i(t)){var c=u[t];c&&(1===r?c.callbacks.empty():e(n)&&c.callbacks.remove(n))}return this}function f(t,r,a){if(!i(t)||!e(r))return this;var f=function(){r.apply(this,arguments),c(t,f)};n(t,f,a)}var u={};return{on:n,one:f,off:c,emit:r}}var r=[],a=r.slice,e=function(t){return"function"==typeof t},i=function(t){return"string"==typeof t};return n});
;define("indexPlayer/util",function(e,t,r){function n(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function a(e){var t,r={};if(-1!=(t=e.indexOf("?")))for(var n=e.substring(t+1,e.length),a=n.split("&"),i=[],o=0,l=a.length;l>o;o++)i=a[o].split("="),r[i[0]]=i[1];return r}function i(){function e(){var e=!1;/2345chrome/.test(window.navigator.userAgent)?e=!0:/2345Explorer/.test(window.navigator.userAgent)&&(e=!0);try{window.external.RCCoralGetItemCacheType(),e=!0}catch(t){}return e}var t=a(location.search),r=!!t.playerh5,n=!!t.playerflash,i=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=e.match(/chrome\/([\d.]+)/);return!!(t&&parseInt(t[1])>=45&&e.indexOf("edge")<0)}(),o=function(){var e=(new Date).getTime(),t=localStorage.getItem("homeH5ErrorTime");return t&&864e5>=e-t?!0:!1}(),l=!e()&&(r||!n&&hyPlayerConfig.html5&&i&&!o);return l}function o(e){for(var t="",r=0;r<e.length;r++)t+=e[r].uid,t+=r+1<e.length?",":"";return t}r.exports={loadCssFile:n,parseQueryString:a,isH5Player:i,getPidList:o}});
;define("indexPlayer/h5Player",function(e,o,r){var i=e("indexPlayer/util"),t=window.INDEX_TIMING||{},a=function(){return function(e,o){function r(e,o){window.h5loadTime=(new Date).getTime(),t.playerInitBefore=t.videoLoadStart=t.playerLoadEnd=+new Date;var r=new VPlayer(a.paramObj(e));r.setVideoData(slideStream),t.playerInitAfter=(new Date).getTime(),r.on("indexVideoload",function(){t.videoLoadEnd=+new Date,o&&o()}),r.on("playerError",function(){var e=(new Date).getTime(),o=localStorage.getItem("homeH5ErrorTime");o&&864e5>=e-o||(localStorage.setItem("homeH5ErrorTime",e),location.reload())});var i=setInterval(function(){window.ya&&(clearInterval(i),r.tongjiReady({sessionId:YA.session_id.get(),mid:YA.mid.get()}))},1e3);return r}var a=this;!function(){i.loadCssFile(hyPlayerConfig.assets.vplayer_css),window.h5VideoloadTime=function(){},t.playerLoadStart=+new Date,HUYA_UTIL.getScript(hyPlayerConfig.assets.vplayer_js2,function(){a.player=r(e,o)})}()}}();a.prototype=function(){return{paramObj:function(e){var o=i.parseQueryString(location.search),r=slides[e],t={slidesKey:slidesKey,pidList:i.getPidList(slides),idDom:"#index_player",chTopId:r.channel,subChId:r.liveChannel,profileRoom:r.profileRoom,vappid:"2"==r.liveSourceType?10507:10057,iSourceType:r.liveSourceType||0,screenType:r.screenType||0,profile:r.uid,gameId:r.gid,avatarImg:r.avatar180,shortlink2room:location.protocol+"//"+location.host+"/"+TT.createRoomHost(r.privateHost,r.profileRoom,r.yyid),_yyAuth:12,back2yy:1,rso:o.rso||HUYA_UTIL.getCookieVal("ya_rso")||"",rso_desc:o.rso_desc||"",hidedanmutip:1,hideguanggaotip:1,type:hyPlayerConfig.WEBYY_SWF,furl:encodeURIComponent(document.referrer),referer:encodeURIComponent(location.href),ref:"index/jdt/"+(e+1),from:hyPlayerConfig.WEBYYFROM||""};return window.l_p=r.uid,t},changeStream:function(e){return this.player?(this.player.switchTo(this.paramObj(e)),!0):(TT.log("H5Player initialize lose."),!1)}}}(),a.prototype.constructor=a,r.exports=a});
;define("indexPlayer/flashPlayer",function(e,o,i){var t=e("indexPlayer/util");window.initComplete=function(){r.UTIL.isReady=!0,r.UTIL.ready()},window.liveRoomObj={report:function(){var e=this;if(r.reportTimer&&clearTimeout(r.reportTimer),window.ya)try{r.UTIL.send("tongjiReady",{sessionId:YA.session_id.get(),mid:YA.mid.get()}),TT.log("report success")}catch(o){TT.log("report error")}else r.reportTimer=setTimeout(function(){e.report()},1e3)},setFlashCookie:function(e){function o(e,o,i,t,r){var n=e+"="+o+"; domain="+i+"; path="+t;r>0&&(n=n+"; expires="+r.toGMTString()),document.cookie=n}var i=new Date;i.setTime(i.getTime()+864e5),o(e.param.cookieKey,e.param.cookieVal,TT.domainForWriteCookie,"/",i)},setSessionStorage:function(e){try{sessionStorage.setItem("ya_eid",e.ya_eid)}catch(o){}}},window.indexVideoload=function(){TT.emit("flashVideoOnload")};var r=function(){return function(e,o){function i(e){window.jsTime=(new Date).getTime();var o=t.paramObj(e);return swfobject.embedSWF(o.swfUrl,o.swfId,"100%","100%",o.swfVersion,null,o.swfVar,o.swfSetting,{},huyacreateObject,huyaflashCallback)}var t=this;TT.on("flashVideoOnload",function(){o&&o()}),function(){HUYA_UTIL.getScript("https://a.msstatic.com/huya/main/lib/swf_hiido_hiidostatic_dbd90e6.js",function(){t.player=i(slideMainIndex)})}()}}();r.UTIL=function(){function e(){return $.browser.msie?window.index_player:document.index_player}return{isReady:!1,registerAsCbFunc:function(o,i){e().registerCallBack(o,i)},send:function(o,i){return this.isReady?(e().callAs(o,i),!0):!1},ready:function(){r.reportTimer&&clearTimeout(r.reportTimer),this.send("addJsKey",!0),this.send("setVideoData",slideStream),this.registerAsCbFunc("setFlashCookie","liveRoomObj.setFlashCookie"),this.registerAsCbFunc("setSessionStorage","liveRoomObj.setSessionStorage")}}}(),r.prototype=function(){return{paramObj:function(e){var o=t.parseQueryString(location.search),i=slides[e],r={swfId:"index_player",swfUrl:hyPlayerConfig.assets.flash_url,swfVersion:"10.1",swfVar:{topSid:i.channel,subSid:i.liveChannel,profileRoom:i.profileRoom,vappid:"2"==i.liveSourceType?10507:10057,iSourceType:i.liveSourceType||0,screenType:i.screenType||0,profile:i.uid,gameId:i.gid,avatarImg:i.avatar180,shortlink2room:location.protocol+"//"+location.host+"/"+TT.createRoomHost(i.privateHost,i.profileRoom,i.yyid),_yyAuth:12,back2yy:1,rso:o.rso||HUYA_UTIL.getCookieVal("ya_rso")||"",rso_desc:o.rso_desc||"",hidedanmutip:1,hideguanggaotip:1,type:hyPlayerConfig.WEBYY_SWF,furl:encodeURIComponent(document.referrer),referer:encodeURIComponent(location.href),ref:"index/jdt/"+(e+1),from:hyPlayerConfig.WEBYYFROM||"",slidesKey:slidesKey,pidList:t.getPidList(slides)},swfSetting:{quality:"high",bgcolor:"#000000",allowScriptAccess:"always",allowFullScreen:"true",wmode:"opaque",menu:"false"}};return window.l_p=i.uid,r},changeStream:function(e){return r.UTIL.send("switchTo",this.paramObj(e))}}}(),r.prototype.constroctor=r,i.exports=r});
;define("rafQue",function(n,e,t){function i(){function n(){null===t&&e.length>0&&(t=u(function(){e.shift()(),t=null,n()}))}var e=[];this.push=function(t){"function"==typeof t&&(e.push(t),n())};var t=null}var u=null,a=null;!function(n){u=n.requestAnimationFrame,a=n.requestAnimationFrame;for(var e=["webkit","moz","ms","o"],t=0;t<e.length&&!u;++t)u=n[e[t]+"RequestAnimationFrame"],a=n[e[t]+"CancelAnimationFrame"]||n[e[t]+"CancelRequestAnimationFrame"];var i=0;u||(u=function(e){var t=(new Date).getTime(),u=Math.max(0,16-(t-i)),a=n.setTimeout(function(){e(t+u)},u);return i=t+u,a}),a||(a=function(n){clearTimeout(n)})}(window),t.exports=new i});
;define("indexPlayer",function(e,n,i){function t(){var e=$.extend(this,new a);e.isH5=o.isH5Player(),e.initialize.apply(this,arguments)}var a=e("Event"),r=e("indexPlayer/h5Player"),s=e("indexPlayer/flashPlayer"),o=e("indexPlayer/util"),d=e("rafQue"),l=$.Deferred(),f=t.prototype;f.initialize=function(e){function n(){"resolved"!=l.state()&&l.resolve()}this.slideMainIndex=e,this.player=this.isH5?new r(e,n):new s(e,n),window.performanceInfo.firstScreenTime=+new Date,window.performanceInfo._hmt.push(["reportApiTime","huya-main-index","end",+new Date])},f.videoload=function(e){l.done(function(){d.push(e)})},f.change=function(e){this.player&&(this.player.changeStream(e),this.slideMainIndex=e,this.emit("update"))},f.defer=l,f.constructor=t;var h=new t(slideMainIndex);i.exports=h});
;define("widget/index-player",function(n,e,i){function t(n){o.eq(n).addClass("current").siblings().removeClass("current")}var a=n("indexPlayer"),o=$("#js-main .item-nav").find("li");!function(){o.on("click",function(){var n=$(this);n.hasClass("current")||(window.clearHBTimeout&&clearHBTimeout(),a.change(n.index()))})}(),a.on("update",function(){var n=a.slideMainIndex;t(n)}),a.emit("update"),a.videoload(function(){a.isH5&&n.async("livePerfReport",function(n){n({page:"index",type:"h5",timing:window.INDEX_TIMING})})}),i.exports=a});
;define("tools",function(n,e){{var t=e.once=function(n){var e,t;return function(){return t||(t=!0,e=n.apply(this,arguments)),e}},o=e.lazyPromise=function(n){var e=t(function(){var e=new $.Deferred;return n(function(){e.resolveWith(this,arguments)},function(){e.rejectWith(this,arguments)}),function(n,t){return e.done(n).fail(t).promise()}});return function(n,t){return e()(n,t)}},r=e.getScript=function(n,e,t){function o(){r(),"function"==typeof e&&e()}function r(){c.onload=c.onreadystatechange=c.onerror=null,c=null}var a=document,u=a.head||a.getElementsByTagName("head")[0]||a.documentElement,c=a.createElement("script");"onload"in c?c.onload=o:c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&o()},"onerror"in c&&(c.onerror=function(){r(),"function"==typeof t&&t()}),c.charset="utf-8",c.type="text/javascript",c.async=!0,c.src=n,u.appendChild(c)},a=(e.lazyLoadScript=function(n){return o(function(e,t){r(n,e,t)})},e.jsonp=function(n){n=$.extend({url:"",data:{},jsonpCallback:"callback",cache:!1},n);var e=$.extend({},n.data),t=e[n.jsonpCallback]="jsonp_callback_"+Math.floor(1e10*Math.random());n.cache||(e._=Math.floor(1e10*Math.random()));var o=$.Deferred();window[t]=function(n){window[t]=null,o.resolve(n)};var a=n.url+(-1==n.url.indexOf("?")?"?":"&")+$.param(e);return r(a,function(){},function(){o.reject()}),o.promise()},e.debounce=function(n,e,t){var o=null,r=function(){o&&clearTimeout(o);var r=this,a=arguments;return t?(o||n.apply(r,a),o=setTimeout(function(){o=null},e)):o=setTimeout(function(){o=null,n.apply(r,a)},e),r};return r.cancel=function(){clearTimeout(o),o=null},r});e.throttle=function(n,e){function t(){a=arguments,u=this,r||(r=setTimeout(function(){r=null,n.apply(u,a),u=a=null},o?0:e),o&&(o=!1))}var o=!0,r=null,a=null,u=null;return t.cancel=function(){clearTimeout(r),r=u=a=null},t},e.loadImg=function(n,e,t,o){return n?(e=e||function(){},t=t||function(){},o=o||new Image,o.readyState?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,e(o))}:o.onload=function(){e(o)},o.onerror=function(){t(o)},o.src=n,o):void 0},e.DJBHash=function(n){if(n){var e,n=n+"",t=5381;if(n){for(var o=0,r=n.length;r>o;++o)t+=(t<<5)+n.charAt(o).charCodeAt();e=2147483647&t}return e}},e.importStyle=function(n,e){if(!document.getElementById(e)){var t=document.createElement("style");if(e&&(t.id=e),document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet){if(document.getElementsByTagName("style").length>31)throw new Error("Exceed the maximal count of style tags in IE");t.styleSheet.cssText+=n}else t.appendChild(document.createTextNode(n));return t}},e.exposure=function(n,e,t,o){if(n=$(n),n.length){e="function"==typeof e?e:function(){},t=t||0;var r,u=$(o?o:window),c=a(function(){r=n.offset(),r.top<=u.scrollTop()+u.height()+t&&(u.off("scroll",c),e(n))},60);u.on("scroll",c),c()}}}e.toRgb=function(n){var e="",t="";return $.isNumeric(n)&&("number"!=typeof n&&(n=parseInt(n,10)),n>=0&&(t=n.toString(16),e=("000000"+t).slice(t.length))),e.toUpperCase()},e.format=function(n){return $.isNumeric(n)?(n+"").replace(/(\d)(?=(\d{3})+$)/g,"$1,"):n};var u=e.createSingleElm=t(function(){return document.createElement("div")});e.supportsStyle=function(n,e){for(var t=u().style,o=["ms","O","Moz","webkit",""],r=o.length,a=n.replace(/^./,function(n){return n.toUpperCase()});r--;){var c=o[r]?o[r]+a:n;if(c in t)return e&&e(o[r],c),!0}return!1}});
;define("indexRespond",function(e,n,t){function o(e){var n=document.body.className.replace(/(^[\s\t\xa0\u3000]+|[\s\t\xa0\u3000]+$)/g,"");n=n.replace("w-980","").replace("w-1220",""),document.body.className=(1400!=e?"w-"+e+" ":"")+n,u.emit("resize")}var c=e("Event"),u=new c,i=document.documentElement?document.documentElement:document.body,a=function(){var e=i.clientWidth;return e>=1720?1400:e>1440?1220:980},d=a();o(d);var m=null,r=function(){clearTimeout(m),m=setTimeout(function(){var e=a();e!==d&&o(d=e)},60)};$(window).on("resize",function(){r()}),t.exports=u});
;define("app/index",function(e){var n=e("widget/index-player"),i=e("tools");e("indexRespond"),function(){var e=$(window),n=$("#banner");e.on("scroll",i.debounce(function(){TTHD.style.set(e.scrollTop()>=n.height()?"normal":"skr")},80))}(),n.videoload(function(){e.async("widget/backtotop")}),n.videoload(function(){e.async("widget/index-game-classify")}),n.videoload(function(){e.async("widget/index-recomImg")}),n.videoload(function(){e.async("widget/index-news")}),n.videoload(function(){e.async("widget/index-program-preview")}),n.videoload(function(){e.async("widget/index-recomGame")}),n.videoload(function(){e.async("widget/index-star-box")}),n.videoload(function(){e.async("widget/index-live-list")}),n.videoload(function(){e.async("widget/index-funny")}),n.videoload(function(){e.async("widget/index-actlist")}),n.videoload(function(){$(window).on("focus",function(){var e=function(e){return-1!=navigator.appName.indexOf("Microsoft")?window[e]:document[e]};try{e("index_player").callAs("changeTabTarget")}catch(n){}})}),n.videoload(function(){e.async("asyncReport",function(e){e({eid:"pageview/home",eid_desc:"pageview/\u9996\u9875"})})}),n.videoload(function(){e.async("exposureReport",function(e){var n=new e;n.reportData(slides,"index/jdt")}),$.each(slides,function(e,n){TT_RSC_EXPS({pos:"index/jdt/"+e,ren:n.uid})}),i.exposure(document.getElementById("J_adLeft"),function(e){function n(){return"undefined"==typeof ya?void(t=setTimeout(function(){n()},1e3)):(clearTimeout(t),void ya.reportProductEvent({eid:e.attr("eid").replace("click","preview"),eid_desc:e.attr("eid_desc").replace("\u70b9\u51fb","\u66dd\u5149"),ref:YA.cookie.get("ya_eid")}))}if(e.data("thirdview")&&"undefined"!=e.data("thirdview"))var o=e.data("thirdview"),d=i.loadImg(o,function(){d=null});var t;n()})}),n.videoload(function(){!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?51700b6c722f5bb4cf39906a596ea41f";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}()}),$(window).on("scroll resize onload",function(){var e=n.defer;"resolved"!=e.state()&&e.resolve()}),setTimeout(function(){var e=n.defer;"resolved"!=e.state()&&e.resolve()},2e3)});